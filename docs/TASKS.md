# 任务清单

## v0.1.0 完成情况 (2026-02-26)

### 已完成 ✅

| # | 任务 | 优先级 | 说明 |
|---|------|--------|------|
| 1 | 搭建 Go 项目骨架 | 🔴 高 | go.mod、目录结构 |
| 2 | 配置 Viper + Zap | 🔴 高 | 配置管理、日志系统 |
| 3 | 搭建 Gin 框架 | 🔴 高 | HTTP 服务器、路由 |
| 4 | 健康检查 API | 🔴 高 | GET /-/health |
| 5 | npm 包元数据代理 | 🔴 高 | GET /:package |
| 6 | tarball 下载代理 | 🔴 高 | GET /:package/-/:filename |
| 7 | 本地缓存机制 | 🔴 高 | 文件系统存储 |
| 8 | npm install 验证 | 🔴 高 | ✅ 成功安装包 |
| 9 | 用户认证基础 | 🟡 中 | JWT + 内存用户存储 |
| 10 | npm login 流程 | 🟡 中 | PUT /-/user/:username |
| 11 | npm publish | 🟡 中 | PUT /:package |
| 12 | npm unpublish | 🟡 中 | DELETE /:package |
| 13 | 发布私有包验证 | 🟡 中 | ✅ 成功发布和安装 |
| 14 | 搭建前端项目 | 🟡 中 | Vite + Vue 3 + TS + Element Plus |
| 15 | 登录页面 | 🟡 中 | 用户登录界面 |
| 16 | 包浏览页面 | 🟡 中 | 包列表展示 |
| 17 | 包详情页面 | 🟡 中 | 版本信息、依赖 |
| 18 | 用户管理页面 | 🟢 低 | 管理后台 |
| 19 | 系统设置页面 | 🟢 低 | 配置管理 |
| 20 | Go 嵌入前端资源 | 🟢 低 | 单一二进制部署 |
| 21 | 创建文档目录 | 🔴 高 | docs/ |
| 22 | 包列表 API | 🟡 中 | GET /-/api/packages |

---

## 后续版本规划

### v0.2.0 - 数据库集成

| # | 任务 | 优先级 | 状态 |
|---|------|--------|------|
| 1 | SQLite 支持 | 🟡 中 | 待开始 |
| 2 | PostgreSQL 支持 | 🟡 中 | 待开始 |
| 3 | 数据库迁移工具 | 🟡 中 | 待开始 |
| 4 | 元数据持久化 | 🟡 中 | 待开始 |

### v0.3.0 - 权限增强

| # | 任务 | 优先级 | 状态 |
|---|------|--------|------|
| 1 | RBAC 权限模型 | 🟡 中 | 待开始 |
| 2 | 角色管理 | 🟡 中 | 待开始 |
| 3 | 包作用域权限 | 🟡 中 | 待开始 |
| 4 | 操作审计日志 | 🟡 中 | 待开始 |

### v0.4.0 - 性能优化

| # | 任务 | 优先级 | 状态 |
|---|------|--------|------|
| 1 | Redis 缓存 | 🟡 中 | 待开始 |
| 2 | S3/MinIO 存储 | 🟢 低 | 待开始 |
| 3 | 垃圾回收机制 | 🟢 低 | 待开始 |
| 4 | 性能压测优化 | 🟡 中 | 待开始 |

### v1.0.0 - 生产就绪

| # | 任务 | 优先级 | 状态 |
|---|------|--------|------|
| 1 | LDAP/OIDC 集成 | 🟢 低 | 待开始 |
| 2 | 高可用集群 | 🟢 低 | 待开始 |
| 3 | Webhook 通知 | 🟢 低 | 待开始 |
| 4 | 包安全扫描 | 🟢 低 | 待开始 |
| 5 | Prometheus 指标 | 🟢 低 | 待开始 |
| 6 | Docker 镜像 | 🟡 中 | 待开始 |
| 7 | Helm Chart | 🟢 低 | 待开始 |

---

## 技术栈

### 后端
- **语言**: Go 1.21+
- **框架**: Gin
- **配置**: Viper
- **日志**: Zap
- **认证**: JWT (golang-jwt/jwt)

### 前端
- **构建**: Vite
- **框架**: Vue 3 + TypeScript
- **UI**: Element Plus
- **状态**: Pinia
- **路由**: Vue Router

### 存储 (当前)
- **元数据**: 文件系统 (JSON)
- **Tarball**: 文件系统
- **用户**: 内存存储

### 存储 (计划)
- **数据库**: SQLite / PostgreSQL
- **缓存**: Redis
- **对象存储**: S3 / MinIO